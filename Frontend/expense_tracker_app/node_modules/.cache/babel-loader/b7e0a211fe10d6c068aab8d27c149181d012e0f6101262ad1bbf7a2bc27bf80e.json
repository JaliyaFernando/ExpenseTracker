{"ast":null,"code":"var _jsxFileName = \"/Users/alokalimark/Documents/IIT/ExpenseTracker/Frontend/expense_tracker_app/src/app/components/Reports.js\";\nimport React, { Component } from 'react';\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport APIs from \"../constants/APIs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Reports extends Component {\n  constructor(props) {\n    super(props);\n    this.getUserDetails = this.getUserDetails.bind(this);\n    this.onGenerate = this.onGenerate.bind(this);\n    this.onViwe = this.onViwe.bind(this);\n    this.state = {\n      userDetails: [],\n      userXMLReport: [],\n      userReport: [],\n      reportAvailable: false,\n      message: '',\n      viewReport: false\n    };\n    this.getUserDetails();\n  }\n  getUserDetails() {\n    axios.get(APIs.USER_BASE_URL + APIs.user.MY_DETAILS + this.state.user.UserID).then(response => {\n      if (response.data) {\n        console.log(\"user:\", this.state.userDetails.length);\n        this.setState({\n          userDetails: response.data\n        }, () => {\n          // Callback function after state is updated\n          console.log(\"user:\", this.state.userDetails);\n        });\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n  onGenerate(e) {\n    const obj = {\n      UserID: this.state.user.UserID,\n      UserName: this.state.userDetails.userName,\n      Age: this.state.userDetails.age,\n      Weight: this.state.userDetails.weight,\n      Height: this.state.userDetails.height,\n      Password: \"null\",\n      LastUpdate: \"2023-08-02T17:03:01.888Z\"\n    };\n    axios.post(APIs.REPORT_BASE_URL + APIs.report.GENERATE, obj).then(res => {\n      this.setState({\n        message: 'Report generated successfully'\n      });\n    });\n  }\n  onViwe(e) {\n    axios.get(APIs.REPORT_BASE_URL + APIs.report.GET_REPORT + this.state.user.UserID).then(response => {\n      const parser = new DOMParser();\n\n      // Parse the XML string\n      const xmlDoc = parser.parseFromString(response.data, \"text/xml\");\n\n      // Access the elements and their text values\n      const userElement = xmlDoc.querySelector(\"User\");\n      const name = userElement.querySelector(\"Name\").textContent;\n      const age = parseInt(userElement.querySelector(\"Age\").textContent);\n      const weight = parseFloat(userElement.querySelector(\"Weight\").textContent);\n      const height = parseFloat(userElement.querySelector(\"Height\").textContent);\n      const bmi = parseFloat(userElement.querySelector(\"BMI\").textContent);\n      const obj = {\n        UserName: name,\n        Age: age,\n        Weight: weight,\n        Height: height,\n        BMI: bmi\n      };\n      if (response.data) {\n        this.setState({\n          userXMLReport: response.data,\n          userReport: obj,\n          viewReport: true\n        }, () => {\n          // Callback function after state is updated\n          console.log(\"userReport:\", this.state.userReport);\n        });\n      }\n    }, error => {\n      console.log(error);\n      this.setState({\n        message: 'Report not found'\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","Button","axios","APIs","jsxDEV","_jsxDEV","Reports","constructor","props","getUserDetails","bind","onGenerate","onViwe","state","userDetails","userXMLReport","userReport","reportAvailable","message","viewReport","get","USER_BASE_URL","user","MY_DETAILS","UserID","then","response","data","console","log","length","setState","error","e","obj","UserName","userName","Age","age","Weight","weight","Height","height","Password","LastUpdate","post","REPORT_BASE_URL","report","GENERATE","res","GET_REPORT","parser","DOMParser","xmlDoc","parseFromString","userElement","querySelector","name","textContent","parseInt","parseFloat","bmi","BMI","render","align","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/alokalimark/Documents/IIT/ExpenseTracker/Frontend/expense_tracker_app/src/app/components/Reports.js"],"sourcesContent":["import React,{Component} from 'react';\nimport {Button} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport APIs from \"../constants/APIs\";\n\nexport default class Reports extends Component{\n    constructor(props) {\n        super(props);\n        this.getUserDetails = this.getUserDetails.bind(this);\n        this.onGenerate = this.onGenerate.bind(this);\n        this.onViwe = this.onViwe.bind(this);\n        this.state = {\n            userDetails: [],\n            userXMLReport: [],\n            userReport: [],\n            reportAvailable: false,\n            message: '',\n            viewReport: false\n        }\n        this.getUserDetails();\n    }\n    getUserDetails(){\n        axios.get(APIs.USER_BASE_URL+APIs.user.MY_DETAILS+this.state.user.UserID)\n            .then(\n                (response) => {\n                    if(response.data){\n\n                        console.log(\"user:\", this.state.userDetails.length);\n                        this.setState(\n                            {\n                                userDetails: response.data\n                            },\n                            () => {\n                                // Callback function after state is updated\n                                console.log(\"user:\", this.state.userDetails);\n                            })\n                    }\n                },\n                (error) => {\n                    console.log(error);\n                }\n            );\n    }\n\n    onGenerate(e) {\n        const obj = {\n            UserID: this.state.user.UserID,\n            UserName: this.state.userDetails.userName,\n            Age: this.state.userDetails.age,\n            Weight: this.state.userDetails.weight,\n            Height: this.state.userDetails.height,\n            Password: \"null\",\n            LastUpdate: \"2023-08-02T17:03:01.888Z\",\n        };\n        axios.post(APIs.REPORT_BASE_URL + APIs.report.GENERATE, obj)\n            .then(res => {\n                    this.setState({\n                        message: 'Report generated successfully'\n                    });\n                }\n            );\n    }\n\n\n    onViwe(e) {\n        axios.get(APIs.REPORT_BASE_URL + APIs.report.GET_REPORT+this.state.user.UserID)\n            .then(\n                (response) => {\n                    const parser = new DOMParser();\n\n                    // Parse the XML string\n                    const xmlDoc = parser.parseFromString(response.data, \"text/xml\");\n\n                    // Access the elements and their text values\n                    const userElement = xmlDoc.querySelector(\"User\");\n\n                    const name = userElement.querySelector(\"Name\").textContent;\n                    const age = parseInt(userElement.querySelector(\"Age\").textContent);\n                    const weight = parseFloat(userElement.querySelector(\"Weight\").textContent);\n                    const height = parseFloat(userElement.querySelector(\"Height\").textContent);\n                    const bmi = parseFloat(userElement.querySelector(\"BMI\").textContent);\n\n                    const obj = {\n                        UserName: name,\n                        Age: age,\n                        Weight: weight,\n                        Height: height,\n                        BMI:bmi,\n                    };\n\n                    if(response.data){\n                        this.setState(\n                            {\n                                userXMLReport: response.data,\n                                userReport: obj,\n                                viewReport: true\n                            },\n                            () => {\n                                // Callback function after state is updated\n                                console.log(\"userReport:\", this.state.userReport);\n                            })\n                    }\n                },\n                (error) => {\n                    console.log(error);\n                    this.setState({\n                        message: 'Report not found'\n                    });\n                }\n            );\n    }\n\n\n    render(){\n        return (\n            <div align=\"center\">\n                <h2>Reports</h2>\n                {/* <div className=\"my_workout\">\n                    {\n                        (this.state.message) ? (\n                            <h5 align=\"center\" className=\"alert-warning\"><i className=\"fa fa-warning\"> {this.state.message}</i> </h5>\n                        ) : null\n                    }\n                    <table width=\"400px\">\n                        <tbody align=\"left\">\n                        <tr>\n                            <td>Generate Report</td>\n                            <td>\n                                <Button variant=\"primary\" type=\"submit\"  onClick={this.onGenerate}>\n                                    <span>Generate Report</span>\n                                </Button>\n                            </td>\n                            <td>\n                                <Button variant=\"primary\" type=\"submit\" onClick={this.onViwe}>\n                                    <span>View Report</span>\n                                </Button>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n\n                    {\n                        (this.state.viewReport) ? (\n                            <div>\n                                <h3>My Report</h3>\n                                <table width=\"400px\">\n                                    <tbody align=\"left\">\n                                    <tr>\n                                        <td>User Name</td>\n                                        <td>{this.state.userReport.UserName}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Age</td>\n                                        <td>{this.state.userReport.Age}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Weight(kg)</td>\n                                        <td>{this.state.userReport.Weight}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Height(m)</td>\n                                        <td>{this.state.userReport.Height}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>BMI</td>\n                                        <td>{this.state.userReport.BMI}</td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        ) : null\n                    }\n                </div> */}\n            </div>\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}